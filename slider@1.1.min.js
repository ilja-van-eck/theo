function initSlider(){document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelector(".tl-line");function t(){var t=lenis.progress,r=isMobile()?1.13:1;gsap.set(e,{scaleX:Math.min(t*r,1),ease:"none"})}lenis.on("scroll",t),t();let r=document.querySelector(".slide-end"),o=document.querySelector(".slider-list");function l(){return window.matchMedia("(max-width: 991px)").matches}r&&o&&o.appendChild(r),gsap.from(".slide-end__inner",{xPercent:l()?0:-75,opacity:0,ease:"none",scrollTrigger:{trigger:".slide-end",start:l()?"top bottom":"left right",end:l()?"top top":"left center",scrub:!0,horizontal:!l()}});let n=gsap.utils.toArray(".slider-item");n.forEach((e,t)=>{let r=e.querySelector(".slide-bg__wrap");gsap.timeline({scrollTrigger:{trigger:e,start:l()?"top bottom":"left right",end:l()?"top top":"left left",scrub:!0,horizontal:!l(),snap:{snapTo:l()?[0,1]:[0,.5,1],duration:{min:.1,max:.6},ease:"expo.out"},onToggle(){l()&&gsap.to("[data-home-info]",{opacity:0,y:"1.5rem",duration:.3,ease:"power3.out"})},onSnapComplete(){l()&&gsap.to("[data-home-info]",{opacity:1,y:"0rem",duration:.3,ease:"power3.out"})}}}).fromTo(r,{xPercent:l()?0:-50},{xPercent:0,yPercent:0,ease:"none",duration:1}).addLabel(t,"1"),gsap.fromTo(e,{xPercent:0,yPercent:0},{xPercent:l()?0:100,ease:"none",scrollTrigger:{trigger:e,start:l()?"top top":"left left",end:l()?"bottom top":"right left",scrub:!0,horizontal:!l()}})});let i=n.length,a=.5*window.innerWidth*i,c=document.querySelectorAll(".tl-item");function s(e,t){e.forEach(e=>{let t=e.target,r=t.querySelector(".bg-vid"),o=t.querySelector(".slide-vid");e.isIntersecting?(r&&r.play(),o&&o.play(),r&&o&&r.currentTime!==o.currentTime&&(r.currentTim=o.currentTime)):(r&&r.pause(),o&&o.pause())})}c.forEach((e,t)=>{e.addEventListener("click",()=>{let e=a/c.length;lenis.scrollTo(e*t,{duration:1,lerp:.1,lock:!0,force:!0})})}),n.forEach((e,t)=>{let r=e.querySelector(".slide-vid"),o=e.querySelector(".bg-vid"),l=e.querySelector("[data-rating]"),i=l?l.textContent.trim():null,a=e.querySelector("[data-color]").style.backgroundColor;if(window.innerWidth<992){let c=new IntersectionObserver(s,{root:null,rootMargin:"0px",threshold:.5});n.forEach(e=>{c.observe(e)})}else e.addEventListener("mouseenter",()=>{if(r&&(r.volume=0,r.play()),o&&o.play(),"m"!==i){let e=parseInt(i,10)-1,t=document.querySelectorAll(".tl-item")[e];if(t){t.classList.add("active");let l=t.querySelector(".item-dot");l&&(l.style.backgroundColor=a)}}}),e.addEventListener("mouseleave",()=>{if(r&&r.pause(),o&&o.pause(),"m"!==i){let e=parseInt(i,10)-1,t=document.querySelectorAll(".tl-item")[e];if(t){t.classList.remove("active");let l=t.querySelector(".item-dot");l&&(l.style.backgroundColor="white")}}})})})}